<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Construction Cost Estimator</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div id="calculator">
        <h2>Construction Cost Estimator</h2>
        
        <!-- Toolbar -->
        <div class="toolbar">
            <button id="new-estimate-btn" title="Start a new estimate">New Estimate</button>
            <button id="save-estimate-btn" title="Save current estimate">Save</button>
            <button id="load-estimate-btn" title="Load a saved estimate">Load</button>
            <button id="export-csv-btn" title="Export as CSV">Export CSV</button>
            <button id="export-json-btn" title="Export as JSON">Export JSON</button>
            <button id="print-btn" title="Print estimate">Print</button>
        </div>

        <!-- Project Info -->
        <div class="project-info">
            <label for="project-name">Project Name:</label>
            <input type="text" id="project-name" placeholder="Enter project name">
            
            <label for="project-date">Date:</label>
            <input type="date" id="project-date">
            
            <label for="project-client">Client:</label>
            <input type="text" id="project-client" placeholder="Enter client name">
        </div>

        <div id="locations">
            <button class="add-button" id="add-location-btn">Add Location</button>
        </div>

        <div class="global-costs">
            <h3>Global Costs</h3>
            
            <div class="costs-grid">
                <div class="form-group">
                    <label for="permitFees">Permit Fees:</label>
                    <input type="number" id="permitFees" value="0" min="0">
                </div>

                <div class="form-group">
                    <label for="equipmentCosts">Equipment Costs:</label>
                    <input type="number" id="equipmentCosts" value="0" min="0">
                </div>

                <div class="form-group">
                    <label for="overheadCosts">Overhead Costs:</label>
                    <input type="number" id="overheadCosts" value="0" min="0">
                </div>

                <div class="form-group">
                    <label for="contingencyPercent">Contingency %:</label>
                    <input type="number" id="contingencyPercent" value="10" min="0" max="100">
                </div>
            </div>
        </div>

        <button id="calculate-btn" class="primary-button">Calculate Estimate</button>

        <div id="result"></div>
        
        <!-- Save Modal -->
        <div id="save-modal" class="modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h3>Save Estimate</h3>
                <div class="form-group">
                    <label for="save-name">Estimate Name:</label>
                    <input type="text" id="save-name" required>
                </div>
                <button id="confirm-save-btn">Save</button>
            </div>
        </div>
        
        <!-- Load Modal -->
        <div id="load-modal" class="modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h3>Load Estimate</h3>
                <div id="saved-estimates-list">
                    <!-- Saved estimates will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Load scripts in the correct order -->
    <script src="js/config.js"></script>
    <script src="js/utils/dom-helpers.js"></script>
    <script src="js/utils/validation.js"></script>
    <script src="js/utils/storage.js"></script>
    <script src="js/utils/export.js"></script>
    <script src="js/utils/calculator.js"></script>
    <!-- Data must be loaded before components that use it -->
    <script src="js/data/actions-database.js"></script>
    <!-- Components should be loaded in dependency order -->
    <script src="js/components/Autocomplete.js"></script>
    <script src="js/components/Action.js"></script>
    <script src="js/components/Location.js"></script>
    <!-- Main app should be loaded last -->
    <script src="js/main.js"></script>
</body>
</html>
